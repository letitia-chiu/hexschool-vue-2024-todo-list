import{u as C,r as b,c as u,j as h,a as n,b as r,d as e,k as p,f as i,v as d,g as m,l as k,m as g}from"./index-C14HsfuV.js";import{S as y,v as c}from"./SideBanner-Cxkj17Ko.js";import{b as V,T as x,e as P}from"./cookieHandler-SwqydL5l.js";const U={id:"signUpPage",class:"bg-yellow"},B={class:"conatiner signUpPage vhContainer"},N={class:"formControls"},T=e("h2",{class:"formControls_txt"},"註冊帳號",-1),q=e("label",{class:"formControls_label",for:"email"},"Email",-1),R={key:0},S=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),j={key:1},E=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),I={key:2},D=e("label",{class:"formControls_label",for:"pwdConfirm"},"再次輸入密碼",-1),H={key:3},L=["disabled"],F={__name:"RegisterView",setup(M){const _=C(),s=b({email:"",nickname:"",password:"",confirmPassword:""}),l=u(()=>{const o=s.value;return{email:c(o.email,"email"),nickname:!!o.nickname,password:c(o.password,"password"),confirmPassword:o.confirmPassword===o.password}}),f=u(()=>Object.values(l.value).includes(!1)),v=async()=>{try{await V.users.signup(s.value),x("success","註冊成功！"),_.push("/login")}catch(o){P(o)}};return(o,a)=>{const w=h("router-link");return n(),r("div",U,[e("div",B,[p(y),e("div",null,[e("form",N,[T,q,i(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>s.value.email=t),class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:""},null,512),[[d,s.value.email]]),l.value.email?m("",!0):(n(),r("span",R,"請正確輸入 email")),S,i(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.nickname=t),class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱"},null,512),[[d,s.value.nickname]]),l.value.nickname?m("",!0):(n(),r("span",j,"請輸入暱稱")),E,i(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.password=t),class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:""},null,512),[[d,s.value.password]]),l.value.password?m("",!0):(n(),r("span",I,"密碼需 8 ~ 12 字元")),D,i(e("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>s.value.confirmPassword=t),class:"formControls_input",type:"password",name:"pwdConfirm",id:"pwdConfirm",placeholder:"請再次輸入密碼",required:""},null,512),[[d,s.value.confirmPassword]]),l.value.confirmPassword?m("",!0):(n(),r("span",H,"密碼不符")),e("button",{type:"button",class:"formControls_btnSubmit",onClick:v,disabled:f.value},"註冊帳號",8,L),p(w,{to:"/login",class:"formControls_btnLink"},{default:k(()=>[g("登入")]),_:1})])])])])}}};export{F as default};
